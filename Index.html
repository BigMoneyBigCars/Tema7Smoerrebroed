<!DOCTYPE html>
<html lang="da">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <link href="https://fonts.googleapis.com/css?family=Signika:700|Work+Sans:300&display=swap" rel="stylesheet">
    <title>New Nordic Kitchen</title>
    <link rel="stylesheet" type="text/css" href="style.css">
</head>

<body>
    <header>
        <nav>
            <section id="menu-sidebar">
                <div class="top-menu">
                    <div class="logoBillede">
                        <img src="" alt="">
                    </div>
                </div>
                <div class="middle-menu">
                    <ul>
                        <li><a href="index.html" class="active">Forside</a></li>
                        <li><a href="cv.html">CV / Om Mig</a></li>
                        <li><a href="swissDesign.html">Swiss Design</a></li>
                        <li><a href="moleInfestedFarm.html">Spil Mole-farm</a></li>
                        <li><a href="sexOgSamfund.html">Sex & Samfund</a></li>
                    </ul>
                </div>
                <div class="bottom-menu">
                    <ul socials>
                        <li><a href="moleInfestedFarm.html">Spil Mole-farm</a></li>
                        <li><a href="sexOgSamfund.html">Sex & Samfund</a></li>
                    </ul>
                </div>
            </section>

            <section id="mobil-top-Menu">
                <div class="MenuMobilBox">




                    <div class="item flex">
                        <img src="Logo/loogogogogo.gif" alt="dd">
                    </div>

                    <div class="item flex">
                        <a href="kontakt.html">
                            <p>Om os</p>
                        </a>
                    </div>

                    <div class="item flex">
                        <a href="kontakt.html">
                            <p>Kontakt</p>
                        </a>
                    </div>

                    <div class="item flex ">
                        <div class="burgermenu " onclick="clickMenu(this)">
                            <div class="bar1"></div>
                            <div class="bar2"></div>
                            <div class="bar3"></div>
                        </div>
                    </div>
                </div>

                <section id="menuMobil" class="hidden">
                    <a href="index.html" class="active">Forside</a>
                    <a href="cv.html">CV / Om Mig</a>
                    <a href="swissDesign.html">Swiss Design</a>
                    <a href="moleInfestedFarm.html">Spil Mole-farm</a>
                    <a href="sexOgSamfund.html">Sex & Samfund</a>
                    <a href="nativeApp.html">Native App Kea</a>
                    <a href="webPrototype.html">Webprototype Kea</a>
                    <a href="aabenbarRedesign.html">Aabenbar Redesign</a>
                    <a href="aabenbarVideo.html">Aabenbar Video</a>
                </section>
            </section>







        </nav>
    </header>
    <!--

            <nav>
                <button class="filter valgt" data-kategori="alle" ´>Alle</button>
                <button class="filter " data-kategori="forretter" ´>Forretter</button>
                <button class="filter " data-kategori="hovedretter" ´>Hovedretter</button>
                <button class="filter " data-kategori="desserter" ´>Desserter</button>
                <button class="filter " data-kategori="drikkevarer" ´>Drikkevarer</button>
            </nav>

            -->
    <section id="splash">
        <div class="container">
            <img class="mySlides" src="Splashbillede/splaaash.jpg" alt="sild">
            <img class="mySlides" src="Splashbillede/splaash.jpg" alt="blomstermad">
            <img class="mySlides" src="/Splashbillede/splash.jpg" alt="makrel">
        </div>
    </section>
    <main>

        <article class="koed">
            <div class="kategoriBillede">
                <h1></h1>
                <p></p>
            </div>
        </article>
        <article class="vegetar">
            <div class="kategoriBillede">
                <h1></h1>
                <p></p>
            </div>
        </article>
        <article class="veganer">
            <div class="kategoriBillede">
                <h1></h1>
                <p></p>
            </div>
        </article>
        <article class="drikkevarer">
            <div class="kategoriBillede">
                <h1></h1>
                <p></p>
            </div>
        </article>





        <div id="popUp">
            <button class="luk">X</button>
            <div class="lukPopUp">
                <section class="indhold">
                    <article class="enkeltRet">
                        <img class="billede" src="" alt="">
                        <h2></h2>
                        <p class="pris"></p>
                        <p class="lang"></p>
                    </article>
                </section>
            </div>
        </div>

        <section class="data-container"></section>
        <template>
            <article>
                <img src="" alt="">
                <h2></h2>
                <p class="pris"></p>
                <p class="kort"></p>
            </article>
        </template>
    </main>
    <script>
        var slideIndex = 0;
        carousel();

        function carousel() {
            var i;
            var x = document.getElementsByClassName("mySlides");
            for (i = 0; i < x.length; i++) {
                x[i].style.display = "none";
            }
            slideIndex++;
            if (slideIndex > x.length) {
                slideIndex = 1
            }
            x[slideIndex - 1].style.display = "block";
            setTimeout(carousel, 5000); // Change image every 5 seconds
        }

        function clickMenu(luk) {
            luk.classList.toggle("change");
        }


        let retter;

        let kategori = "alle";

        const container = document.querySelector(".data-container");

        const temp = document.querySelector("template");

        const article = document.querySelector(".enkeltperson");

        document.addEventListener("DOMContentLoaded", getJson);

        async function getJson() {

            let jsonData = await fetch("https://spreadsheets.google.com/feeds/list/1cefgRhGLAPtoKEFyd5789ovjTWE4wHkzxEAenmD291M/od6/public/values?alt=json");
            console.log("jsonData", jsonData);

            retter = await jsonData.json();

            console.log("retter", retter);


            document.querySelector(".burgermenu").addEventListener("click", toggleMenu);

            visRetter();
            addEventListenerToButtons();
        }


        function visRetter() {
            container.innerHTML = "";
            retter.feed.entry.forEach((ret) => {
                if (kategori == "alle" || kategori == ret.gsx$kategori.$t) {
                    const klon = temp.cloneNode(true).content;
                    klon.querySelector("h2").textContent = ret.gsx$navn.$t;
                    klon.querySelector("img").src = `img/billede/${ret.gsx$billede.$t}.png`;
                    klon.querySelector("img").alt = ret.gsx$billede.$t;
                    klon.querySelector(".pris").textContent = `Pris: ${ret.gsx$pris.$t}.- `;
                    klon.querySelector(".kort").textContent = ret.gsx$kort.$t;

                    container.appendChild(klon);
                    container.lastElementChild.addEventListener("click", () => {
                        visSingle(ret)
                    });
                }
            })
        }


        function addEventListenerToButtons() {
            document.querySelectorAll(".filter").forEach(elm => {
                elm.addEventListener("click", filtrering);
            })
        }


        function filtrering() {
            console.log(filtrering);
            kategori = this.dataset.kategori;
            document.querySelectorAll("button").forEach(knap => {
                knap.classList.remove("valgt")
            })
            this.classList.add("valgt");
            visRetter();
        }

        function visSingle(ret) {
            document.querySelector("#popUp").style.display = "block";
            document.querySelector("#popUp .luk").addEventListener("click", lukSingle);
            document.querySelector("#popUp .lukPopUp").addEventListener("click", lukSingle);

            document.querySelector(".enkeltRet h2").textContent = ret.gsx$navn.$t;
            document.querySelector(".enkeltRet .billede").src = `imgs/small/${ret.gsx$billede.$t}-sm.jpg`;
            document.querySelector(".enkeltRet .billede").alt = ret.gsx$navn.$t;
            document.querySelector(".pris").textContent = `Pris: ${ret.gsx$pris.$t}.- `;
            document.querySelector(".lang").textContent = ret.gsx$lang.$t;
        }

        function lukSingle() {
            document.querySelector("#popUp").style.display = "none";
        }

        function lukSingle() {
            document.querySelector("#popUp").style.display = "none";
        }



        //Mobil burgermmenu //


        function toggleMenu() {
            console.log("toggleMenu");
            document.querySelector("#menuMobil").classList.toggle("hidden");

            let erSkjult = document.querySelector("#menuMobil").classList.contains("hidden");

            if (erSkjult == true) {
                document.getElementById("menuknapMobil").src = "Icons/Menu.svg";
            } else {

                document.getElementById("menuknapMobil").src = "icons/No.svg";

            }
        }
    </script>

</body></html>
